1. システム概要
1.1 システム名
AI Lab for You

1.2 ビジョン
研究者の「創造性」を解放する

1.3 システムの目的・ゴール
研究活動（「研究テーマ設定 → 研究計画 → 実験設計 → データ解析 → 考察 → 論文執筆」）を、AIのサポートを受けながら効率的かつ高度に実施できる環境を提供する。
Human In The Loopかつend to endのプロセスにより、研究者とAIがそれぞれの強みを生かしながら研究を共創する。
1.4 システム概要
研究特化型チャットプラットフォーム：研究に特化したUI/UXにより、チャットベースで研究の各フェーズを進行。
マルチエージェント機能：複数の専門AIと同時に対話し、各専門分野の知見を活用できる。
分岐統合型チャット：議論の過程で発生する複数の仮説やシナリオを、チャットの分岐として管理。左サイドバーに表示されるマーメイド図から各分岐チャットへ直接遷移できる。
自動論文執筆機能：議論内容に基づいて、論文の各セクションを自動生成し、随時更新する。
2. スコープと想定ユーザ
2.1 スコープ
研究活動全般（理系・文系を含む）に対応。
大学、研究機関、企業のR&D部門など、研究者・大学院生向けのシステム。
2.2 想定ユーザ
研究活動において効率的な情報整理や議論のドキュメント化を求める研究者。
複数の専門分野の知見を必要とするプロジェクトに従事しているユーザ。
既存のチャットAIでは研究の複雑なプロセスが十分にサポートされないと感じているユーザ。
3. 用語定義
マルチエージェント研究
複数の専門AIと研究者が、同一または並行するチャット上で議論・解析を行う仕組み。

分岐統合型チャット
メインチャットの発言を起点に、新たなチャットスレッド（分岐）を作成し、議論の別シナリオを同時進行できる機能。

自動論文執筆機能
議論や解析結果をもとに、各論文セクション（例：背景、研究手法、結果、考察等）のドラフトを自動生成する機能。

メインチャット
研究の主軸となる議論が行われるチャットエリア。

左サイドバー
専門AIの選択・管理、及びチャットの分岐構造（マーメイド図）の表示エリア。

右サイドバー
議論内容の要約表示や自動生成された論文ドラフトのプレビューを行うエリア。

4. 全体アーキテクチャ（概要）
フロントエンド

メインチャットUI（中央エリア）
左サイドバー：専門AIの管理、チャット分岐ツリー（マーメイド図表示・ノード選択によるチャット遷移機能 FR8-1 を含む）
右サイドバー：議論サマリ表示、論文ドラフトのプレビュー・編集
バックエンド

AI対話制御モジュール：複数の専門AIとの対話管理およびAPI連携
チャット履歴、分岐情報、バージョン管理用データベース
自動論文執筆（生成）モジュール
ユーザ認証・アカウント管理モジュール
AIエンジン/外部連携

大規模言語モデル（LLM）および各専門分野向けAIモデル
テキスト要約、情報抽出サービス
5. ユースケース
研究テーマの設定

ユーザはメインチャットを用い、専門AIと研究テーマについてディスカッションし、アイデア出しを行う。
研究計画の策定

複数の仮説やアプローチを検討する際、チャットの分岐機能で別々の議論を並行して進める。
実験設計とデータ解析

実験手法や解析手法について、AIと議論しながら具体的なプロトコルを策定・調整する。
考察から論文執筆

議論の結果をもとに、AIが自動的に論文ドラフトを生成。右サイドバーで各セクションの進捗がリアルタイムに更新される。
最終論文の仕上げと出力

必要な学術誌形式（Word, PDF, LaTeXなど）に合わせた出力、参考文献管理機能の提供。
6. 機能要件
6.1 統合研究システム（メイン機能）
FR1: 研究テーマ設定から論文執筆までの全プロセスを、チャットベースで一元的にサポートする。
FR2: 研究進行の各ステップを柔軟に進め、途中での修正や再検討が可能。
FR3: ユーザが過去のチャット履歴を容易に参照し、特定発言から新規分岐を開始できる。
6.2 マルチエージェント研究（機能1-1）
FR4: 左サイドバーで複数の専門AIの選択・追加が可能。
FR5: メインチャット上で、1つの発言に対し複数のAIが同時に応答できる。
FR6: AI間の相互参照や補足質問など、連携した議論が実施可能。
6.3 分岐統合型チャット（機能1-2）
FR7: メインチャットの特定発言から新たなチャットスレッド（分岐）を生成できる。
FR8: 左サイドバーに、分岐したチャットの構造をマーメイド図法（ツリービュー）で表示する。
FR8-1: 表示されたマーメイド図上の各ノードはクリック可能とし、ユーザがノードを選択すると即座に対応するチャットに遷移できる。
FR9: 各分岐チャットの名称は、ユーザが自由に編集可能とする。
FR10: 分岐先で得られた議論結果を、必要に応じてメインチャットに統合（マージ）する機能を提供。
FR11: 多階層の分岐構造にも対応し、入れ子状態のチャット管理が可能。
6.4 自動論文執筆機能（機能1-3）
FR12: 議論内容（研究手法、結果、考察など）に基づき、各論文セクションのドラフトを自動生成する。
FR13: 右サイドバーで各セクションのドラフトプレビューを表示し、ユーザによる編集や再生成が可能。
FR14: 最終的にWord、PDF、LaTeXなどの形式で論文をエクスポート可能とする。
FR15: 参考文献リストの自動生成や、各学会・ジャーナル向けのテンプレート機能は将来的な拡張機能として検討する。
6.5 その他共通機能
FR16: ユーザ認証およびログイン機能を実装し、プロジェクトごとのアカウント管理を行う。
FR17: プロジェクト単位で、チャット履歴、分岐ツリー、論文ドラフトを保存・管理する。
FR18: キーワードや分岐名称、発言内容に基づく高度な検索機能を提供する。
FR19: 右サイドバーで、常時更新される議論の要約表示機能を実装する。
7. 非機能要件
パフォーマンス

各種応答（特にLLM推論）は1～5秒程度のレスポンスを目標とする。
同時接続ユーザ数に応じた負荷分散・スケーリングを実施する。
可用性・信頼性

24時間365日の連続稼働を目指し、定期メンテナンスによるダウンタイムを最小限に抑える。
チャット履歴や論文ドラフトの定期バックアップ機能を実装する。
セキュリティ

ユーザ認証（パスワード、2要素認証など）の強化。
研究データやユーザデータの暗号化保存。
アクセス制限や監査ログの実装による不正アクセス防止策。
ユーザビリティ

直感的なUI/UXを実現し、分岐チャットの構造を視覚的に把握可能とする。
議論サマリや論文プレビューを常に表示し、操作の遷移を極力少なくする。
拡張性

新たな専門AIや機能の追加が容易なモジュール化アーキテクチャを採用する。
分岐ツリーの編集（ドラッグ＆ドロップなど）を将来的に拡張できる設計とする。
保守性

コードと設定ファイルを明確に分離し、環境依存性を低減する。
システムログおよび議論履歴のモニタリング体制を整備する。
8. 画面要件（UI/UX概要）
メイン画面

中央エリア：研究者と複数の専門AIとのチャットが表示される。各発言に対して「分岐作成」や「引用」ボタンを配置。
左サイドバー

エージェント管理：利用可能な専門AIの一覧と選択機能。
チャット分岐ツリー：マーメイド図法を用いたツリービューで分岐構造を表示。
※【FR8-1】：各ノードはクリック可能で、選択すると即座に該当のチャットに移動できる。
分岐チャットの名称編集（ダブルクリック等による）機能。
右サイドバー

議論サマリ：現在の議論の要点・キーワードが自動更新表示される。
論文ドラフトプレビュー：論文の章立て（例：1.研究課題、1.1背景、1.2目的、2.研究手法…）に沿った自動生成内容がリアルタイムで更新され、編集も可能。
論文出力画面

出力形式（Word, PDF, LaTeXなど）の選択ダイアログを表示。
必要に応じた参考文献や図表のプレビュー・管理機能。
9. データ要件
チャット履歴データ

各発言に対して、発言者（研究者または各専門AI）、発言日時、分岐ツリー内の位置（親ID、子ID）を保存する。
論文ドラフトデータ

論文の各セクションごとにバージョン管理を行い、ユーザによる編集履歴を保持する。
エクスポート時に各セクションを統合し、最終文書を生成する。
ユーザデータ

ユーザアカウント情報（認証情報、所属プロジェクト、アクセス権限等）を管理する。
AIモデル選択データ

各プロジェクトで利用可能な専門AIモデルとその対応分野のメタデータを管理する。
10. システム連携要件
文献データベース連携
文献検索AIがPubMed、Google Scholar等の外部データベースと連携し、引用情報や文献情報を取得できるようにする（権利面の考慮必須）。

データ解析ツール連携
R、Pythonライブラリ等の解析ツールとの連携を視野に入れ、実験データや解析結果の取り込み機能を検討する。

論文出力テンプレート
学会・ジャーナル向けのスタイルファイル（例：LaTeXテンプレート）を利用した出力機能の拡張を計画する。

11. 運用・保守要件
運用体制

管理者がユーザアカウント、プロジェクト単位の権限を管理する。
複数の共同研究者が同一プロジェクトにアクセス可能な権限管理を実施する。
保守

定期的なバックアップおよびリストア手順を確立する。
AIモデルのアップデートや新規追加時のテストフロー（UI、分岐機能等の確認）を実施する。
ログ・監査

チャットや論文ドラフトへのアクセス・編集履歴の監査ログを記録し、不正な改ざんの検出・対策を行う。
12. リスクと制約
AIモデルの精度・信頼性

AIによる誤った解析や論文生成の可能性に留意し、最終的な判断は必ず研究者が行う（Human In The Loopの徹底）。
知的財産・守秘義務

企業や研究機関の機密情報の取り扱いに関するセキュリティ・プライバシーポリシーの遵守。
法的リスク

論文中の引用・参考文献の適正な扱い、及びAI生成文章の著作権問題への対応を検討する。
ユーザビリティ

分岐チャット機能の複雑化により、ユーザが混乱しないように、十分なガイドラインやチュートリアルを提供する必要がある。
13. 今後の拡張
分野特化AIモジュールの拡充

医学、化学、社会科学など各分野に最適化された専門AIエージェントの追加。
文献自動引用・参考文献リスト生成

議論中に参照された文献情報をもとに、BibTeXなどの形式で自動生成する機能の拡張。
データ解析プラットフォームとの連携

実験データや解析結果のアップロード・可視化機能の実装。
共同編集モード

複数の研究者がリアルタイムで同一プロジェクトを編集可能なコラボレーション機能の実装。
